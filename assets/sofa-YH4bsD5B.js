import{G as w,D as g,R as E,W as b,A as f,S as _,E as y,a as v,P as C,V as R,C as L,M,b as x,c as A,d as B}from"./ArcatResources-B_Ant9a2.js";import{O as D}from"./OrbitControls-BdHT4rM3.js";const I=new w,l=new g;l.setDecoderPath("three/examples/jsm/libs/draco/");I.setDRACOLoader(l);const P=new E;B.enabled=!0;const k=await fetch("/data/BusinessParametersSofa.json"),S=await k.json();var a=new b({antialias:!0,depth:!0,precision:"highp",toneMapping:f,toneMappingExposure:1});a.localClippingEnabled=!0;const m=1;console.log("device pix ratio "+window.devicePixelRatio+" screen width "+window.screen.width);const p=window.innerWidth*m,u=window.innerHeight*m;a.setSize(p,u);a.domElement.style.position="absolute";a.domElement.style.top="0px";a.domElement.style.left="0px";document.body.appendChild(a.domElement);var d=[],t=new _;await P.load("/models/this_ambient.hdr",e=>{e.mapping=y,t.environment=e,t.environmentIntensity=1.5,t.background=e,t.backgroundBlurriness=.75,t.backgroundIntensity=.15});var T=new v(t),o=new C(50,p/u,.1,50);t.add(o);const r=new D(o,a.domElement);r.enableDamping=!0;r.dampingFactor=.1;r.target=new R(0,1,0);o.position.set(3.5,3.5,3.5);o.lookAt(0,1,0);r.update();d.push(()=>{r.update()});const F=document.getElementById("hbox_slider"),G=document.getElementById("product_name"),O=document.getElementById("product_description");S.products.forEach(e=>{const n=document.createElement("a");n.href="#";const i=document.createElement("img");i.src=e.thumbnailImage,n.appendChild(i),n.addEventListener("click",()=>{T.LoadModel(e.model_url),G.innerText=e.label,O.innerText=e.description}),F.appendChild(n)});window.addEventListener("resize",function(){z()});function z(){arToolkitSource.onResizeElement()}let j=new L(.75,5),q=new M({transparent:!0,opacity:.5,side:x,color:"rgb(0,0,0)"}),c=new A(j,q);c.position.y=-.05;c.rotation.x=Math.PI*.5;t.add(c);d.push(function(e){});d.push(function(){a.render(t,o)});var s=null;requestAnimationFrame(function e(n){requestAnimationFrame(e),s=s||n-1e3/60;var i=Math.min(200,n-s);s=n,d.forEach(function(h){h(i/1e3,n/1e3)})});
